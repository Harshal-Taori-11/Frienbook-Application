{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\src\\\\components\\\\profilewall\\\\NewsFeedComponent.jsx\";\nimport React, { Component } from 'react';\nimport ListPostsComponent from '../post/ListPostsComponent.jsx';\nimport PostComponent from '../post/PostComponent.jsx';\nimport AuthenticationService from '../post/AuthenticationService';\nimport Socket from '../post/StartSocket';\nimport \"./profile.scss\";\nvar stompClient = null;\n\nvar NewsFeedComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(NewsFeedComponent, _React$Component);\n\n  function NewsFeedComponent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NewsFeedComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NewsFeedComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.refreshFeed = function () {\n      if (_this.child) _this.child.refreshFeed();\n    };\n\n    _this.onConnected = function () {\n      stompClient.subscribe(\"/topic/status\", _this.refreshFeed);\n    };\n\n    _this.onError = function (err) {\n      console.error(err);\n    };\n\n    return _this;\n  }\n\n  _createClass(NewsFeedComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      stompClient = Socket.connect();\n      stompClient.connect({}, this.onConnected, this.onError);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-8 e\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }\n      }, AuthenticationService.getLoggedInUserName() === this.props.username ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(PostComponent, {\n        match: this.props.match,\n        stompClient: stompClient,\n        refreshFeed: this.refreshFeed,\n        username: this.props.username,\n        history: this.props.history,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }\n      })) : \"\", /*#__PURE__*/React.createElement(ListPostsComponent, {\n        history: this.props.history,\n        onRef: function onRef(ref) {\n          return _this2.child = ref;\n        },\n        username: this.props.username,\n        stompClient: stompClient,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return NewsFeedComponent;\n}(React.Component);\n\nexport default NewsFeedComponent;","map":{"version":3,"names":["React","Component","ListPostsComponent","PostComponent","AuthenticationService","Socket","stompClient","NewsFeedComponent","refreshFeed","child","onConnected","subscribe","onError","err","console","error","connect","getLoggedInUserName","props","username","match","history","ref"],"sources":["C:/Users/Harshal Taori/Documents/MFPE PROJECT/26  TUESDAY/friendbook-frontend/src/components/profilewall/NewsFeedComponent.jsx"],"sourcesContent":["import React, {Component} from 'react';\r\nimport ListPostsComponent from '../post/ListPostsComponent.jsx'\r\nimport PostComponent from '../post/PostComponent.jsx';\r\nimport AuthenticationService from '../post/AuthenticationService'\r\nimport Socket from '../post/StartSocket';\r\nimport \"./profile.scss\";\r\n\r\nlet stompClient = null;\r\n\r\nclass NewsFeedComponent extends React.Component{\r\n\r\n    componentDidMount() {\r\n        stompClient = Socket.connect();\r\n        stompClient.connect({}, this.onConnected, this.onError);\r\n    }\r\n\r\n    refreshFeed = () => {\r\n        if(this.child)\r\n            this.child.refreshFeed();\r\n    }\r\n\r\n    onConnected = () => {\r\n        stompClient.subscribe(\"/topic/status\", this.refreshFeed);\r\n    }\r\n\r\n    onError = (err) => {\r\n        console.error(err);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"col-lg-8 e\">\r\n                {AuthenticationService.getLoggedInUserName() === this.props.username ?\r\n                    <div className=\"wrap\">\r\n                        <PostComponent match={this.props.match} stompClient={stompClient} refreshFeed={this.refreshFeed} username={this.props.username} history={this.props.history}/>\r\n                    </div> : \"\"}\r\n                <ListPostsComponent history={this.props.history} onRef={ref => (this.child = ref)} username={this.props.username} stompClient={stompClient}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewsFeedComponent;"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,kBAAP,MAA+B,gCAA/B;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,qBAAP,MAAkC,+BAAlC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAO,gBAAP;AAEA,IAAIC,WAAW,GAAG,IAAlB;;IAEMC,iB;;;;;;;;;;;;;;;;UAOFC,W,GAAc,YAAM;MAChB,IAAG,MAAKC,KAAR,EACI,MAAKA,KAAL,CAAWD,WAAX;IACP,C;;UAEDE,W,GAAc,YAAM;MAChBJ,WAAW,CAACK,SAAZ,CAAsB,eAAtB,EAAuC,MAAKH,WAA5C;IACH,C;;UAEDI,O,GAAU,UAACC,GAAD,EAAS;MACfC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACH,C;;;;;;;wCAhBmB;MAChBP,WAAW,GAAGD,MAAM,CAACW,OAAP,EAAd;MACAV,WAAW,CAACU,OAAZ,CAAoB,EAApB,EAAwB,KAAKN,WAA7B,EAA0C,KAAKE,OAA/C;IACH;;;6BAeO;MAAA;;MACJ,oBACI;QAAK,SAAS,EAAC,YAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACKR,qBAAqB,CAACa,mBAAtB,OAAgD,KAAKC,KAAL,CAAWC,QAA3D,gBACG;QAAK,SAAS,EAAC,MAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACI,oBAAC,aAAD;QAAe,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAAjC;QAAwC,WAAW,EAAEd,WAArD;QAAkE,WAAW,EAAE,KAAKE,WAApF;QAAiG,QAAQ,EAAE,KAAKU,KAAL,CAAWC,QAAtH;QAAgI,OAAO,EAAE,KAAKD,KAAL,CAAWG,OAApJ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADJ,CADH,GAGY,EAJjB,eAKI,oBAAC,kBAAD;QAAoB,OAAO,EAAE,KAAKH,KAAL,CAAWG,OAAxC;QAAiD,KAAK,EAAE,eAAAC,GAAG;UAAA,OAAK,MAAI,CAACb,KAAL,GAAaa,GAAlB;QAAA,CAA3D;QAAmF,QAAQ,EAAE,KAAKJ,KAAL,CAAWC,QAAxG;QAAkH,WAAW,EAAEb,WAA/H;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EALJ,CADJ;IASH;;;;EA9B2BN,KAAK,CAACC,S;;AAiCtC,eAAeM,iBAAf"},"metadata":{},"sourceType":"module"}