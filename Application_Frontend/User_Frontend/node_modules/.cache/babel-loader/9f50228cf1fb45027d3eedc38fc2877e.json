{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\26  TUESDAY\\\\friendbook-frontend\\\\src\\\\components\\\\chatbox\\\\ChatModule.jsx\";\nimport React, { Component } from 'react';\nimport { ReactComponent as YourSvg } from \"@svgr/webpack?-svgo,+ref!./assets/close.svg\";\nimport { ReactComponent as Send } from \"@svgr/webpack?-svgo,+ref!./assets/send.svg\";\nimport 'simplebar'; // or \"import SimpleBar from 'simplebar';\" if you want to use it manually.\n\nimport 'simplebar/dist/simplebar.css';\nimport Avatar from '../post/Avatar';\n\nvar ChatModule = /*#__PURE__*/function (_Component) {\n  _inherits(ChatModule, _Component);\n\n  function ChatModule(props) {\n    var _this;\n\n    _classCallCheck(this, ChatModule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatModule).call(this, props));\n\n    _this.handleTyping = function (event) {\n      _this.setState({\n        chatMessage: event.target.value\n      });\n\n      _this.sendMessage('TYPING', event.target.value, _this.state.receiver);\n    };\n\n    _this.scrollToBottom = function () {\n      var object = _this.refs.messageBox;\n      if (object) object.scrollTop = object.scrollHeight;\n    };\n\n    _this.handleSendMessage = function () {\n      _this.props.sendMessage('CHAT', _this.state.chatMessage, _this.props.receiver);\n\n      _this.setState({\n        chatMessage: ''\n      });\n    };\n\n    _this.handleTyping = function (event) {\n      _this.setState({\n        chatMessage: event.target.value\n      });\n\n      _this.props.sendMessage('TYPING', event.target.value, _this.props.receiver);\n    };\n\n    _this.handleClose = function () {\n      _this.props.handleCloseUser(_this.props.receiver);\n    };\n\n    _this.handleToggle = function () {\n      _this.setState({\n        hide: !_this.state.hide\n      });\n    };\n\n    _this.state = {\n      chatMessage: \"\",\n      hide: false\n    };\n    return _this;\n  }\n\n  _createClass(ChatModule, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatBox\",\n        style: this.state.hide ? {\n          bottom: -340 + 'px'\n        } : {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatTitle\",\n        onClick: this.handleToggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        username: this.props.receiver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"a\", {\n        href: '/profile/' + this.props.receiver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 58\n        }\n      }, \" \", this.props.receiver, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatBox-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n        onClick: this.handleClose,\n        className: \"closeBtn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(YourSvg, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }), \" \"))), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"chatView\",\n        ref: \"messageBox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, this.props.broadcastMessage.map(function (msg, i) {\n        return msg.receiver === _this2.props.receiver && msg.sender === _this2.props.username || msg.receiver === _this2.props.username && msg.sender === _this2.props.receiver ? /*#__PURE__*/React.createElement(\"li\", {\n          key: i,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }\n        }, \" \", msg.sender === _this2.props.username ? \"You\" : msg.sender, \" : \", msg.message) : null;\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatControl\",\n        ref: \"chatControl\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: this.state.chatMessage,\n        onChange: this.handleTyping,\n        onKeyPress: function onKeyPress(event) {\n          if (event.key === 'Enter') {\n            _this2.handleSendMessage();\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Send, {\n        onClick: this.handleSendMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      })));\n    }\n  }]);\n\n  return ChatModule;\n}(Component);\n\nexport { ChatModule as default };","map":{"version":3,"names":["React","Component","Avatar","ChatModule","props","handleTyping","event","setState","chatMessage","target","value","sendMessage","state","receiver","scrollToBottom","object","refs","messageBox","scrollTop","scrollHeight","handleSendMessage","handleClose","handleCloseUser","handleToggle","hide","bottom","broadcastMessage","map","msg","i","sender","username","message","key"],"sources":["C:/Users/Harshal Taori/Documents/MFPE PROJECT/26  TUESDAY/friendbook-frontend/src/components/chatbox/ChatModule.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { ReactComponent as YourSvg } from './assets/close.svg';\r\nimport { ReactComponent as Send } from './assets/send.svg';\r\nimport 'simplebar'; // or \"import SimpleBar from 'simplebar';\" if you want to use it manually.\r\nimport 'simplebar/dist/simplebar.css';\r\n\r\nimport Avatar from '../post/Avatar';\r\nexport default class ChatModule extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chatMessage: \"\",\r\n            hide: false\r\n        }\r\n    }\r\n\r\n    handleTyping = (event) => {\r\n\r\n        this.setState({\r\n            chatMessage: event.target.value,\r\n        });\r\n        this.sendMessage('TYPING', event.target.value, this.state.receiver);\r\n\r\n    };\r\n\r\n    scrollToBottom = () => {\r\n        var object = this.refs.messageBox;\r\n        if (object)\r\n          object.scrollTop = object.scrollHeight;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.scrollToBottom();\r\n    }\r\n\r\n    handleSendMessage = () => {\r\n        this.props.sendMessage('CHAT', this.state.chatMessage, this.props.receiver);\r\n        this.setState({ chatMessage: ''})\r\n    }\r\n\r\n    handleTyping = (event) => {\r\n\r\n        this.setState({\r\n            chatMessage: event.target.value,\r\n        });\r\n        this.props.sendMessage('TYPING', event.target.value, this.props.receiver);\r\n\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.props.handleCloseUser(this.props.receiver);\r\n    }\r\n\r\n    handleToggle = () => {\r\n        this.setState({hide: !this.state.hide});\r\n    }\r\n    render() {\r\n        return (\r\n        <div className=\"chatBox\" style={this.state.hide ? {bottom: -340 + 'px'} : {}}>\r\n            <div className=\"chatTitle\" onClick={this.handleToggle}>\r\n                <Avatar username={this.props.receiver}/> <a href={'/profile/' + this.props.receiver}> {this.props.receiver} </a>\r\n                <div className=\"chatBox-right\"> <a onClick={this.handleClose} className=\"closeBtn\">\r\n                    <YourSvg/> </a>\r\n                </div>\r\n            </div>\r\n            \r\n            <ul className=\"chatView\" ref=\"messageBox\">\r\n            {this.props.broadcastMessage.map((msg, i) => \r\n                ( (msg.receiver === this.props.receiver && msg.sender === this.props.username) || \r\n                (msg.receiver === this.props.username && msg.sender === this.props.receiver)) ?\r\n            <li key={i}> {(msg.sender === this.props.username) ? \"You\" : msg.sender} : {msg.message}</li> : null\r\n            )}\r\n            </ul>\r\n            <div className=\"chatControl\" ref=\"chatControl\">\r\n                <input value={this.state.chatMessage} onChange={this.handleTyping} onKeyPress={event => {\r\n                    if (event.key === 'Enter') {\r\n                        this.handleSendMessage();\r\n                    }\r\n                }}/>\r\n                \r\n                <Send onClick={this.handleSendMessage}/>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}