{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\ADMIN\\\\friendbook-admin-ui\\\\src\\\\components\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from 'axios';\nimport { Form, Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles.css';\nimport { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { validateLogin } from \"../utils/ApiCalls\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const change = event => {\n    if (event.target.id == 'username') {\n      setUsername(event.target.value);\n    }\n\n    if (event.target.id == 'password') {\n      setPassword(event.target.value);\n    }\n  };\n\n  const handleSubmit = () => {\n    console.log(\"SUB:::\", username, password);\n    let body = {\n      username: username,\n      password\n    };\n    validateLogin(body).then(res => {\n      console.log(\"Da::\", res);\n\n      if (res.data.length != 0) {\n        navigate(\"/admin\");\n        sessionStorage.setItem(\"token\", res.data.token);\n        sessionStorage.setItem(\"name\", username);\n        axios.interceptors.request.use(config => {\n          // if (this.isUserLoggedIn()) {\n          config.headers.authorization = \"Bearer \" + res.data.token; // }\n\n          return config;\n        }); // sessionStorage.setItem(\"type\",res.data.isAdmin);\n      } else alert(\"Invalid Creds\");\n    }); // navigate(\"/login\");\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem(\"name\") != null) {\n      navigate(\"/admin\");\n    } else navigate(\"/\");\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"MainApp\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"LoginComponent\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"Description\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"FRIENDBOOK \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 36\n            }, this), \"ADMIN\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"base-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"username\",\n                        children: \"Username\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        class: \"form-control\",\n                        type: \"text\",\n                        id: \"username\",\n                        placeholder: \"username\",\n                        value: username,\n                        onChange: change\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 75,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"password\",\n                        children: \"Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 78,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        class: \"form-control\",\n                        type: \"password\",\n                        id: \"password\",\n                        placeholder: \"password\",\n                        value: password,\n                        onChange: change\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 79,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"footerBtn\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"btn btn-success\",\n                    name: \"login\",\n                    onClick: handleSubmit,\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n} //     <div className=\"loginInput\">\n//     <Form className=\"login\">\n//         <h2>Login</h2>\n//             <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n//                 <Form.Label>Username</Form.Label>\n//                 <Form.Control id=\"username\" type=\"text\"  value={username} onChange={change}/>\n//             </Form.Group>\n//             <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n//                 <Form.Label>Password</Form.Label>\n//                 <Form.Control id=\"password\" type=\"password\" value={password} onChange={change} />\n//             </Form.Group>\n//     </Form>\n//     <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit}>\n//     LOGIN\n// </Button>&nbsp;&nbsp;&nbsp;\n// <Button variant=\"secondary\" type=\"submit\" onClick={()=>(navigate(\"/register\"))}>Register</Button>\n// </div>\n\n_s(Login, \"uHEXObe4z8HQ/uWE70JK2Ra4440=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","axios","Form","Button","useState","useNavigate","validateLogin","useEffect","Login","navigate","username","setUsername","password","setPassword","change","event","target","id","value","handleSubmit","console","log","body","then","res","data","length","sessionStorage","setItem","token","interceptors","request","use","config","headers","authorization","alert","getItem"],"sources":["C:/Users/Harshal Taori/Documents/MFPE PROJECT/ADMIN/friendbook-admin-ui/src/components/Login.jsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './styles.css';\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { validateLogin } from \"../utils/ApiCalls\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Login(){\r\n\r\n    const navigate= useNavigate();\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const change=(event)=>{\r\n        if(event.target.id=='username'){\r\n            setUsername(event.target.value);\r\n        }\r\n        if(event.target.id=='password'){\r\n            setPassword(event.target.value);\r\n        }\r\n    }\r\n\r\n    const handleSubmit=()=>{\r\n        console.log(\"SUB:::\", username, password);\r\n        let body={\r\n            username: username,\r\n            password\r\n        }\r\n        validateLogin(body).then((res)=>{\r\n            console.log(\"Da::\", res);\r\n           if(res.data.length!=0) {\r\n            navigate(\"/admin\");\r\n            sessionStorage.setItem(\"token\",res.data.token);\r\n            sessionStorage.setItem(\"name\",username);\r\n            \r\n            axios.interceptors.request.use(\r\n                (config) => {\r\n                    // if (this.isUserLoggedIn()) {\r\n                        config.headers.authorization = \"Bearer \" +res.data.token\r\n                    // }\r\n                    return config\r\n                }\r\n                )\r\n            // sessionStorage.setItem(\"type\",res.data.isAdmin);\r\n           }\r\n           else alert(\"Invalid Creds\");\r\n        });\r\n        // navigate(\"/login\");\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(sessionStorage.getItem(\"name\")!=null) {navigate(\"/admin\")}\r\n        else navigate(\"/\");\r\n    })\r\n\r\n    return(\r\n        <div class=\"MainApp\">\r\n        <div class=\"App\">\r\n            <div class=\"LoginComponent\">\r\n                <div class=\"Description\">\r\n                    <h1>FRIENDBOOK <br/>ADMIN</h1>\r\n                </div>\r\n                <div class=\"login\">\r\n                    <div class=\"container\">\r\n                        <div class=\"base-container\">\r\n                            <div class=\"content\">\r\n                                <div class=\"form\">\r\n                                    <div class=\"form-group\">\r\n                                        <div class=\"form-group\">\r\n                                            <label for=\"username\">Username</label>\r\n                                            <input class=\"form-control\" type=\"text\" id=\"username\" placeholder=\"username\" value={username} onChange={change}/>\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            <label for=\"password\">Password</label>\r\n                                            <input class=\"form-control\" type=\"password\" id=\"password\" placeholder=\"password\" value={password} onChange={change}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <br/>\r\n                            <div class=\"footerBtn\">\r\n                                <button type=\"button\" class=\"btn btn-success\" name=\"login\" onClick={handleSubmit}>Login</button>\r\n                                {/* <button type=\"button\" name=\"register\" class=\"btn btn-info\" onClick={()=>(navigate(\"/register\"))}>register</button> */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> \r\n    \r\n    );\r\n}\r\n\r\n\r\n \r\n\r\n//     <div className=\"loginInput\">\r\n//     <Form className=\"login\">\r\n//         <h2>Login</h2>\r\n//             <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n//                 <Form.Label>Username</Form.Label>\r\n//                 <Form.Control id=\"username\" type=\"text\"  value={username} onChange={change}/>\r\n//             </Form.Group>\r\n//             <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n//                 <Form.Label>Password</Form.Label>\r\n//                 <Form.Control id=\"password\" type=\"password\" value={password} onChange={change} />\r\n//             </Form.Group>\r\n            \r\n//     </Form>\r\n//     <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit}>\r\n//     LOGIN\r\n// </Button>&nbsp;&nbsp;&nbsp;\r\n// <Button variant=\"secondary\" type=\"submit\" onClick={()=>(navigate(\"/register\"))}>Register</Button>\r\n// </div>"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,MAAd,QAA2B,iBAA3B;AACA,OAAO,kCAAP;AACA,OAAO,cAAP;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAEA,eAAe,SAASC,KAAT,GAAgB;EAAA;;EAE3B,MAAMC,QAAQ,GAAEJ,WAAW,EAA3B;EAEA,MAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMU,MAAM,GAAEC,KAAD,IAAS;IAClB,IAAGA,KAAK,CAACC,MAAN,CAAaC,EAAb,IAAiB,UAApB,EAA+B;MAC3BN,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAX;IACH;;IACD,IAAGH,KAAK,CAACC,MAAN,CAAaC,EAAb,IAAiB,UAApB,EAA+B;MAC3BJ,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAX;IACH;EACJ,CAPD;;EASA,MAAMC,YAAY,GAAC,MAAI;IACnBC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBX,QAAtB,EAAgCE,QAAhC;IACA,IAAIU,IAAI,GAAC;MACLZ,QAAQ,EAAEA,QADL;MAELE;IAFK,CAAT;IAIAN,aAAa,CAACgB,IAAD,CAAb,CAAoBC,IAApB,CAA0BC,GAAD,IAAO;MAC5BJ,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBG,GAApB;;MACD,IAAGA,GAAG,CAACC,IAAJ,CAASC,MAAT,IAAiB,CAApB,EAAuB;QACtBjB,QAAQ,CAAC,QAAD,CAAR;QACAkB,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BJ,GAAG,CAACC,IAAJ,CAASI,KAAxC;QACAF,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA8BlB,QAA9B;QAEAT,KAAK,CAAC6B,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACKC,MAAD,IAAY;UACR;UACIA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAA+B,YAAWX,GAAG,CAACC,IAAJ,CAASI,KAAnD,CAFI,CAGR;;UACA,OAAOI,MAAP;QACH,CANL,EALsB,CAatB;MACA,CAdD,MAeKG,KAAK,CAAC,eAAD,CAAL;IACP,CAlBD,EANmB,CAyBnB;EACH,CA1BD;;EA4BA7B,SAAS,CAAC,MAAI;IACV,IAAGoB,cAAc,CAACU,OAAf,CAAuB,MAAvB,KAAgC,IAAnC,EAAyC;MAAC5B,QAAQ,CAAC,QAAD,CAAR;IAAmB,CAA7D,MACKA,QAAQ,CAAC,GAAD,CAAR;EACR,CAHQ,CAAT;EAKA,oBACI;IAAK,KAAK,EAAC,SAAX;IAAA,uBACA;MAAK,KAAK,EAAC,KAAX;MAAA,uBACI;QAAK,KAAK,EAAC,gBAAX;QAAA,wBACI;UAAK,KAAK,EAAC,aAAX;UAAA,uBACI;YAAA,uCAAe;cAAA;cAAA;cAAA;YAAA,QAAf;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAII;UAAK,KAAK,EAAC,OAAX;UAAA,uBACI;YAAK,KAAK,EAAC,WAAX;YAAA,uBACI;cAAK,KAAK,EAAC,gBAAX;cAAA,uBACI;gBAAK,KAAK,EAAC,SAAX;gBAAA,wBACI;kBAAK,KAAK,EAAC,MAAX;kBAAA,uBACI;oBAAK,KAAK,EAAC,YAAX;oBAAA,wBACI;sBAAK,KAAK,EAAC,YAAX;sBAAA,wBACI;wBAAO,GAAG,EAAC,UAAX;wBAAA;sBAAA;wBAAA;wBAAA;wBAAA;sBAAA,QADJ,eAEI;wBAAO,KAAK,EAAC,cAAb;wBAA4B,IAAI,EAAC,MAAjC;wBAAwC,EAAE,EAAC,UAA3C;wBAAsD,WAAW,EAAC,UAAlE;wBAA6E,KAAK,EAAEC,QAApF;wBAA8F,QAAQ,EAAEI;sBAAxG;wBAAA;wBAAA;wBAAA;sBAAA,QAFJ;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QADJ,eAKI;sBAAK,KAAK,EAAC,YAAX;sBAAA,wBACI;wBAAO,GAAG,EAAC,UAAX;wBAAA;sBAAA;wBAAA;wBAAA;wBAAA;sBAAA,QADJ,eAEI;wBAAO,KAAK,EAAC,cAAb;wBAA4B,IAAI,EAAC,UAAjC;wBAA4C,EAAE,EAAC,UAA/C;wBAA0D,WAAW,EAAC,UAAtE;wBAAiF,KAAK,EAAEF,QAAxF;wBAAkG,QAAQ,EAAEE;sBAA5G;wBAAA;wBAAA;wBAAA;sBAAA,QAFJ;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA,QALJ;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;gBADJ;kBAAA;kBAAA;kBAAA;gBAAA,QADJ,eAaI;kBAAA;kBAAA;kBAAA;gBAAA,QAbJ,eAcA;kBAAK,KAAK,EAAC,WAAX;kBAAA,uBACI;oBAAQ,IAAI,EAAC,QAAb;oBAAsB,KAAK,EAAC,iBAA5B;oBAA8C,IAAI,EAAC,OAAnD;oBAA2D,OAAO,EAAEK,YAApE;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA;gBADJ;kBAAA;kBAAA;kBAAA;gBAAA,QAdA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA;UADJ;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAJJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqCH,C,CAKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;GA5GwBX,K;UAEJH,W;;;KAFIG,K"},"metadata":{},"sourceType":"module"}