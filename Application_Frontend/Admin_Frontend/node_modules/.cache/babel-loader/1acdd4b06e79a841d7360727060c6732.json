{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Harshal Taori\\\\Documents\\\\MFPE PROJECT\\\\ADMIN\\\\friendbook-admin-ui\\\\src\\\\components\\\\Admin.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useLayoutEffect } from \"react\";\nimport admin from \"./assets/admin.jpeg\";\nimport { useNavigate } from 'react-router-dom';\nimport { Tooltip } from \"react-bootstrap\";\nimport { OverlayTrigger } from \"react-bootstrap\";\nimport Navbar from 'react-bootstrap/Navbar';\nimport Logo from './assets/logo.png';\nimport Avatar from \"./Avatar\";\nimport PostComponent from \"./PostComponent\";\nimport { getReportedPosts, deleteReportedPost, removePostReports } from \"../utils/ApiCalls\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Admin() {\n  _s();\n\n  const navigate = useNavigate();\n  const [post, setPost] = useState([]);\n\n  const logout = () => {\n    navigate(\"/\");\n    sessionStorage.clear();\n  };\n\n  const refresh = () => {\n    getReportedPosts().then(res => {\n      setPost([...res.data]);\n    });\n    axios.interceptors.request.use(config => {\n      // if (this.isUserLoggedIn()) {\n      config.headers.authorization = \"Bearer \" + sessionStorage.getItem(\"token\"); // }\n\n      return config;\n    });\n  };\n\n  const handleDelete = id => {\n    console.log(\"DEL\", id);\n    deleteReportedPost(id);\n    refresh();\n  };\n\n  const handleRemoveReports = id => {\n    removePostReports(id);\n    refresh();\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem(\"name\") != undefined) navigate(\"/admin\");else navigate(\"/\");\n    refresh();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      expand: \"md\",\n      className: \"navbar navbar-expand-md navbar-dark bg-dark\",\n      children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n        placement: \"bottom\",\n        overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n          id: \"tooltip-bottom\",\n          children: \"Back to home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 63\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"nav-link\",\n          to: \"/welcome/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Logo,\n            alt: \"Logo\",\n            className: \"rmitLogo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 158\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 118\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"navbar-nav d-md-block d-none\",\n        style: {\n          marginRight: \"1.1rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"nav-link\",\n          to: \"/welcome/\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"nav-link gg\",\n        to: \"/welcome/\",\n        children: \"Admin Console\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n        \"aria-controls\": \"basic-navbar-nav\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"navbar-nav navbar-collapse justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n            placement: \"bottom\",\n            overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n              id: 'tooltip-bottom'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 90\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"toProfile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)\n          }, \"bottom\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"nav-link d-md-none\",\n            to: \"/welcome/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-link btn btn-secondary\",\n              name: \"logout\",\n              onClick: logout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Reported Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), post.map((item, index) => /*#__PURE__*/_jsxDEV(PostComponent, {\n      post: item,\n      handleDelete: handleDelete,\n      handleRemoveReports: handleRemoveReports\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 40\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Admin, \"tS1CwUSH1KrhtYydATK31hCc3mg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useEffect","useLayoutEffect","admin","useNavigate","Tooltip","OverlayTrigger","Navbar","Logo","Avatar","PostComponent","getReportedPosts","deleteReportedPost","removePostReports","useState","axios","Admin","navigate","post","setPost","logout","sessionStorage","clear","refresh","then","res","data","interceptors","request","use","config","headers","authorization","getItem","handleDelete","id","console","log","handleRemoveReports","undefined","marginRight","map","item","index"],"sources":["C:/Users/Harshal Taori/Documents/MFPE PROJECT/ADMIN/friendbook-admin-ui/src/components/Admin.jsx"],"sourcesContent":["import React,{useEffect, useLayoutEffect} from \"react\";\r\nimport admin from \"./assets/admin.jpeg\" \r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Tooltip } from \"react-bootstrap\";\r\nimport { OverlayTrigger } from \"react-bootstrap\";\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Logo from './assets/logo.png';\r\nimport Avatar from \"./Avatar\";\r\nimport PostComponent from \"./PostComponent\";\r\nimport { getReportedPosts, deleteReportedPost, removePostReports } from \"../utils/ApiCalls\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Admin(){\r\n\r\n    const navigate= useNavigate();\r\n    const [post, setPost] = useState([]);\r\n\r\n    const logout=()=>{\r\n        navigate(\"/\");\r\n        sessionStorage.clear();\r\n    }\r\n\r\n    const refresh=()=>{\r\n        getReportedPosts().then((res)=> {\r\n            setPost([...res.data]);\r\n        });\r\n        axios.interceptors.request.use(\r\n            (config) => {\r\n                // if (this.isUserLoggedIn()) {\r\n                    config.headers.authorization = \"Bearer \" +sessionStorage.getItem(\"token\");\r\n                // }\r\n                return config\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleDelete=(id)=>{\r\n        console.log(\"DEL\", id);\r\n        deleteReportedPost(id);\r\n        refresh();\r\n    }\r\n\r\n    const handleRemoveReports=(id)=>{\r\n        removePostReports(id);\r\n        refresh();\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(sessionStorage.getItem(\"name\")!=undefined) navigate(\"/admin\")\r\n        else navigate(\"/\");\r\n        refresh();\r\n    },[]);\r\n\r\n\r\n    return(\r\n        <div>\r\n        {/* <h1>Hello Admin {sessionStorage.getItem(\"name\")}</h1> */}\r\n        {/* <img src={admin}></img> */}\r\n        {/* <button className=\"logout\" onClick={logout}>Logout</button> */}\r\n\r\n        <Navbar expand={\"md\"} className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n                <OverlayTrigger placement={\"bottom\"} overlay={<Tooltip id={\"tooltip-bottom\"}>Back to home</Tooltip>}><h3 className=\"nav-link\" to=\"/welcome/\"><img src={Logo} alt=\"Logo\" className=\"rmitLogo\"/></h3>\r\n                    </OverlayTrigger>\r\n                    <ul className=\"navbar-nav d-md-block d-none\" style={{marginRight: \"1.1rem\"}}>\r\n                        <h3 className=\"nav-link\" to=\"/welcome/\">Home</h3>\r\n                    </ul>\r\n\r\n                    <h1 className=\"nav-link gg\" to=\"/welcome/\">Admin Console</h1>\r\n\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <ul className=\"navbar-nav navbar-collapse justify-content-end\">\r\n                            <OverlayTrigger key={\"bottom\"} placement={\"bottom\"} overlay={<Tooltip id={'tooltip-bottom'}></Tooltip>}>\r\n                                <li className={\"toProfile\"}>\r\n                                    {/* <img src={Logo} alt=\"Logo\" className=\"rmitLogo\"/> */}\r\n                                    {/* <a className=\"nav-link\" href={'/profile/'}>Admin</a> */}\r\n                                </li>\r\n                            </OverlayTrigger>\r\n                            <h3 className=\"nav-link d-md-none\" to=\"/welcome/\">Home</h3>\r\n\r\n                            <li><button className=\"nav-link btn btn-secondary\" name=\"logout\" onClick={logout}>Logout</button></li>\r\n                        </ul>\r\n\r\n                    </Navbar.Collapse>\r\n\r\n            </Navbar>\r\n\r\n\r\n            <div className=\"post\">\r\n                <h2>Reported Posts</h2>\r\n            </div>\r\n\r\n            {\r\n                post.map((item,index)=><PostComponent post={item} key={index} handleDelete={handleDelete} handleRemoveReports={handleRemoveReports}/>)\r\n            }\r\n\r\n            {/* <div className=\"post\">\r\n                <div className=\"lin\">\r\n                <div className=\"lino\"><img src={Logo} alt=\"Logo\" className=\"rmitLogo\"/><div className=\"inf\">User 2<sub className=\"sb\">1hr ago</sub></div></div>\r\n                <button class=\"btn btn-danger\">Delete Post</button>\r\n                <button class=\"btn btn-info\">Remove</button>\r\n                </div>\r\n                <div class=\"cont\">\r\n                    <h5>sshjsfsehj</h5>\r\n                </div>\r\n            </div> */}\r\n\r\n\r\n            \r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}